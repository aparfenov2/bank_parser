(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(e,t,n){},163:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(74),i=n.n(c),s=(n(122),n(60)),l=n(111),j=n(71),o=n.n(j),d=n(86),b=n(18),u=n(204),h=n(202),x=n(199),O=n(200),f=n(205),p=n(87),m=n.n(p),v=n(53),y=n.n(v),g=n(61),w=n(30),C=(n(163),n(164),n(7)),S=["children","value","index"],_=n(166).DateTime,L="dd.LL.yyyy";function k(e){return _.now().minus({days:-e}).toFormat(L)}function F(e){var t=[e.value,e.setValue],n=t[1],a=t[0].map((function(e){return null!=e?Math.round(_.fromFormat(e,L).diff(_.now().startOf("day"),"days").as("days")):0})),c=function(e){n(e.map((function(e){return k(e)})))},i=r.a.useState([]),s=Object(b.a)(i,2),l=s[0],j=s[1];r.a.useEffect((function(){var e=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()("/ranges");case 2:t=e.sent,j(t.data.ranges.map((function(e){return{value:e,label:k(e)}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(C.jsx)(h.a,{getAriaLabel:function(){return"Minimum distance shift"},value:a,min:-124,max:0,marks:l,onChange:function(e,t,n){if(Array.isArray(t))if(Math.abs(t[1]-t[0])<1)if(0===n){var a=Math.min(t[0],-1);c([a,a+1])}else{var r=Math.max(t[1],-123);c([r-1,r])}else c(t)},onChangeCommitted:e.onChangeCommitted,valueLabelDisplay:"on",valueLabelFormat:k,disableSwap:!0})}function M(e){return Object(C.jsxs)("table",{className:"cart",children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((function(e,t){return Object(C.jsx)("td",{children:e},t)}))})}),Object(C.jsx)("tbody",{children:e.data.spd_rows&&e.data.spd_rows.map((function(e,t){return Object(C.jsx)("tr",{children:e.map((function(e,t){var n=Object(b.a)(e,3),a=n[0],r=n[1],c=n[2];return null==a?Object(C.jsx)("td",{},t):Object(C.jsxs)("td",{className:"hasTooltip",children:[a," ",Object(C.jsx)("br",{}),r,null!=c&&Object(C.jsx)("span",{className:"tooltip",dangerouslySetInnerHTML:{__html:c}})]},t)}))},t)}))})]})}function T(){var e=[].slice.call(arguments),t=e.reduce((function(e,t){return e.length>t.length?e:t}),[]);return t.map((function(t,n){return e.map((function(e){return e[n]}))}))}function P(e){var t=e.data;return Object(C.jsxs)("table",{className:"cart",children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:t.headers&&t.headers.map((function(e,t){return Object(C.jsx)("td",{children:e},t)}))})}),Object(C.jsx)("tbody",{children:t.rows&&T(t.rows,t._com).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1];return Object(C.jsx)("tr",{children:T(a,null!=r?r:[]).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1];return Object(C.jsxs)("td",{className:"hasTooltip",children:[a,null!=r&&Object(C.jsx)("span",{className:"tooltip",dangerouslySetInnerHTML:{__html:r}})]},t)}))},t)}))})]})}function N(e){var t=e.data,n=function(t){null!=e.onLinkClick&&e.onLinkClick(t.target.search)};return Object(C.jsx)("table",{width:"100%",children:Object(C.jsxs)("tbody",{children:[Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[" ",Object(C.jsxs)(g.b,{to:"?after="+t.prev_after+"&before="+t.prev_before,onClick:n,children:["Prev Period ",t.prev_after," - ",t.prev_before]})," "]})}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[" ",Object(C.jsxs)(g.b,{to:"?after="+t.next_after+"&before="+t.next_before,onClick:n,children:["Next Period ",t.next_after," - ",t.next_before]})," "]})}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[" ",Object(C.jsx)(g.b,{to:"/",onClick:n,children:"Last Period"})," "]})}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[" ",Object(C.jsx)(g.b,{to:"/upload",onClick:function(e){window.location.href=e.target.href},children:"Upload"})," "]})})]})})}function E(e){var t=e.children,n=e.value,a=e.index,r=Object(l.a)(e,S);return Object(C.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(C.jsx)(u.a,{children:t})}))}function B(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function I(e){var t=Object.entries(e.data.by_acc_cur).filter((function(e){var t=Object(b.a)(e,2);t[0];return"total"in t[1]})).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return{category:n,total:parseFloat(a.total)}}));return Object(C.jsxs)(y.a,{id:"pie",dataSource:t,palette:"Bright",title:"Expenses",children:[Object(C.jsx)(v.Series,{argumentField:"category",valueField:"total",children:Object(C.jsx)(v.Label,{visible:!0,children:Object(C.jsx)(v.Connector,{visible:!0,width:1})})}),Object(C.jsx)(v.Size,{width:500}),Object(C.jsx)(v.Export,{enabled:!1})]})}function A(){var e=Object(w.g)(),t=Object(w.f)(),n=Object.fromEntries(new URLSearchParams(e.search)),a=r.a.useState([n.after,n.before]),c=Object(b.a)(a,2),i=c[0],l=c[1],j=r.a.useState(n),h=Object(b.a)(j,2),p=h[0],v=h[1],y="/query"+e.search,g=r.a.useState(0),S=Object(b.a)(g,2),_=S[0],L=S[1];return r.a.useEffect((function(){var e=function(){var e=Object(d.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()(y);case 2:t=e.sent,v(t.data),n=[t.data.after,t.data.before],l(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[y]),Object(C.jsxs)(x.a,{spacing:3,children:[Object(C.jsxs)("center",{children:["Summary ",p.after," - ",p.before]}),Object(C.jsxs)(x.a,{direction:"row",spacing:1,children:[Object(C.jsx)(u.a,{width:600,children:Object(C.jsx)(N,{data:p})}),Object(C.jsx)(F,{value:i,setValue:l,onChangeCommitted:function(){t.push("?after="+i[0]+"&before="+i[1])}}),Object(C.jsx)(u.a,{sx:{width:100}})]}),Object(C.jsxs)(u.a,{sx:{width:"100%"},children:[Object(C.jsx)(u.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(C.jsxs)(O.a,{value:_,onChange:function(e,t){L(t)},"aria-label":"basic tabs example",children:[Object(C.jsx)(f.a,Object(s.a)({label:"Calendar"},B(0))),Object(C.jsx)(f.a,Object(s.a)({label:"Summary"},B(1))),Object(C.jsx)(f.a,Object(s.a)({label:"Pie Chart"},B(2)))]})}),Object(C.jsx)(E,{value:_,index:0,children:Object(C.jsx)(M,{data:p})}),Object(C.jsx)(E,{value:_,index:1,children:Object(C.jsx)(P,{data:p})}),Object(C.jsx)(E,{value:_,index:2,children:Object(C.jsx)(I,{data:p})})]})]})}var D=function(){return Object(C.jsx)(g.a,{children:Object(C.jsx)(w.c,{children:Object(C.jsx)(w.a,{path:"/",children:Object(C.jsx)(A,{})})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,207)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(D,{})}),document.getElementById("root")),H()}},[[172,1,2]]]);
//# sourceMappingURL=main.109e56cf.chunk.js.map