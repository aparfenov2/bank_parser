(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[2],{336:function(e,t,n){},442:function(e,t,n){},450:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n.n(a),c=n(271),i=n.n(c),s=(n(336),n(222)),o=n(324),l=n(12),j=n.n(l),u=n(285),b=n(21),d=n(482),h=n(480),f=n(477),x=n(478),O=n(483),p=n(265),m=n.n(p),v=n(223),g=n.n(v),y=n(245),w=n(123),C=n(322),S=(n(442),n(443),n(41)),_=["children","value","index"],k=n(444).DateTime,L="dd.LL.yyyy";function F(e){return k.now().minus({days:-e}).toFormat(L)}function T(e){var t=[e.value,e.setValue],n=t[1],a=t[0].map((function(e){return null!=e?Math.round(k.fromFormat(e,L).diff(k.now().startOf("day"),"days").as("days")):0})),c=function(e){n(e.map((function(e){return F(e)})))},i=r.a.useState([]),s=Object(b.a)(i,2),o=s[0],l=s[1];r.a.useEffect((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()("/ranges");case 2:t=e.sent,l(t.data.ranges.map((function(e){return{value:e,label:F(e)}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(S.jsx)(h.a,{getAriaLabel:function(){return"Minimum distance shift"},value:a,min:-124,max:0,marks:o,onChange:function(e,t,n){if(Array.isArray(t))if(Math.abs(t[1]-t[0])<1)if(0===n){var a=Math.min(t[0],-1);c([a,a+1])}else{var r=Math.max(t[1],-123);c([r-1,r])}else c(t)},onChangeCommitted:e.onChangeCommitted,valueLabelDisplay:"on",valueLabelFormat:F,disableSwap:!0})}function M(e){return Object(S.jsxs)("table",{className:"cart",children:[Object(S.jsx)("thead",{children:Object(S.jsx)("tr",{children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((function(e,t){return Object(S.jsx)("td",{children:e},t)}))})}),Object(S.jsx)("tbody",{children:e.data.spd_rows&&e.data.spd_rows.map((function(e,t){return Object(S.jsx)("tr",{children:e.map((function(e,t){var n=Object(b.a)(e,3),a=n[0],r=n[1],c=n[2];return null==a?Object(S.jsx)("td",{},t):Object(S.jsxs)("td",{className:"hasTooltip",children:[a," ",Object(S.jsx)("br",{}),r,null!=c&&Object(S.jsx)("span",{className:"tooltip",dangerouslySetInnerHTML:{__html:c}})]},t)}))},t)}))})]})}function P(){var e=[].slice.call(arguments),t=e.reduce((function(e,t){return e.length>t.length?e:t}),[]);return t.map((function(t,n){return e.map((function(e){return e[n]}))}))}function E(e){var t=e.data;return Object(S.jsxs)("table",{className:"cart",children:[Object(S.jsx)("thead",{children:Object(S.jsx)("tr",{children:t.headers&&t.headers.map((function(e,t){return Object(S.jsx)("td",{children:e},t)}))})}),Object(S.jsx)("tbody",{children:t.rows&&P(t.rows,t._com).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1];return Object(S.jsx)("tr",{children:P(a,null!=r?r:[]).map((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1];return Object(S.jsxs)("td",{className:"hasTooltip",children:[a,null!=r&&Object(S.jsx)("span",{className:"tooltip",dangerouslySetInnerHTML:{__html:r}})]},t)}))},t)}))})]})}function N(e){var t=e.data,n=function(t){null!=e.onLinkClick&&e.onLinkClick(t.target.search)};return Object(S.jsx)("table",{width:"100%",children:Object(S.jsxs)("tbody",{children:[Object(S.jsx)("tr",{children:Object(S.jsxs)("td",{children:[" ",Object(S.jsxs)(y.b,{to:"?after="+t.prev_after+"&before="+t.prev_before,onClick:n,children:["Prev Period ",t.prev_after," - ",t.prev_before]})," "]})}),Object(S.jsx)("tr",{children:Object(S.jsxs)("td",{children:[" ",Object(S.jsxs)(y.b,{to:"?after="+t.next_after+"&before="+t.next_before,onClick:n,children:["Next Period ",t.next_after," - ",t.next_before]})," "]})}),Object(S.jsx)("tr",{children:Object(S.jsxs)("td",{children:[" ",Object(S.jsx)(y.b,{to:"/",onClick:n,children:"Last Period"})," "]})}),Object(S.jsx)("tr",{children:Object(S.jsxs)("td",{children:[" ",Object(S.jsx)(y.b,{to:"/upload",onClick:function(e){window.location.href=e.target.href},children:"Upload"})," "]})})]})})}function B(e){var t=e.children,n=e.value,a=e.index,r=Object(o.a)(e,_);return Object(S.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(S.jsx)(d.a,{children:t})}))}function I(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function A(e){var t=Object.entries(e.data.by_acc_cur).filter((function(e){var t=Object(b.a)(e,2);t[0];return"total"in t[1]})).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return{category:n,total:parseFloat(a.total)}}));return Object(S.jsxs)(g.a,{id:"pie",dataSource:t,palette:"Bright",title:"Expenses",children:[Object(S.jsx)(v.Series,{argumentField:"category",valueField:"total",children:Object(S.jsx)(v.Label,{visible:!0,children:Object(S.jsx)(v.Connector,{visible:!0,width:1})})}),Object(S.jsx)(v.Size,{width:500}),Object(S.jsx)(v.Export,{enabled:!1})]})}function D(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1];return r.a.useEffect((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()("/conf");case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(S.jsx)(C.a,{value:n,onChange:function(e){console.log("new config",e);m.a.put("/conf",e,{headers:{"Content-Type":"text/plain"},responseType:"text"})},language:"yaml",height:"400px",options:{theme:"vs-dark"}})}function H(){var e=Object(w.g)(),t=Object(w.f)(),n=Object.fromEntries(new URLSearchParams(e.search)),a=r.a.useState([n.after,n.before]),c=Object(b.a)(a,2),i=c[0],o=c[1],l=r.a.useState(n),h=Object(b.a)(l,2),p=h[0],v=h[1],g="/query"+e.search,y=r.a.useState(0),C=Object(b.a)(y,2),_=C[0],k=C[1];return r.a.useEffect((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()(g);case 2:t=e.sent,v(t.data),n=[t.data.after,t.data.before],o(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]),Object(S.jsxs)(f.a,{spacing:3,children:[Object(S.jsxs)("center",{children:["Summary ",p.after," - ",p.before]}),Object(S.jsxs)(f.a,{direction:"row",spacing:1,children:[Object(S.jsx)(d.a,{width:600,children:Object(S.jsx)(N,{data:p})}),Object(S.jsx)(T,{value:i,setValue:o,onChangeCommitted:function(){t.push("?after="+i[0]+"&before="+i[1])}}),Object(S.jsx)(d.a,{sx:{width:100}})]}),Object(S.jsxs)(d.a,{sx:{width:"100%"},children:[Object(S.jsx)(d.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(S.jsxs)(x.a,{value:_,onChange:function(e,t){k(t)},"aria-label":"basic tabs example",children:[Object(S.jsx)(O.a,Object(s.a)({label:"Calendar"},I(0))),Object(S.jsx)(O.a,Object(s.a)({label:"Summary"},I(1))),Object(S.jsx)(O.a,Object(s.a)({label:"Pie Chart"},I(2))),Object(S.jsx)(O.a,Object(s.a)({label:"Config"},I(3)))]})}),Object(S.jsx)(B,{value:_,index:0,children:Object(S.jsx)(M,{data:p})}),Object(S.jsx)(B,{value:_,index:1,children:Object(S.jsx)(E,{data:p})}),Object(S.jsx)(B,{value:_,index:2,children:Object(S.jsx)(A,{data:p})}),Object(S.jsx)(B,{value:_,index:3,children:Object(S.jsx)(D,{})})]})]})}var J=function(){return Object(S.jsx)(y.a,{children:Object(S.jsx)(w.c,{children:Object(S.jsx)(w.a,{path:"/",children:Object(S.jsx)(H,{})})})})},U=function(e){e&&e instanceof Function&&n.e(83).then(n.bind(null,564)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(J,{})}),document.getElementById("root")),U()}},[[450,3,4]]]);
//# sourceMappingURL=main.d62113f3.chunk.js.map